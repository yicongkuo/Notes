[{"id":0,"href":"/Notes/GIS-Enterprise-Reporter/docs/02/","title":"Running GIS Enterprise Reporter, Tips \u0026 Tricks","section":"Docs","content":"\rRunning GIS Enterprise Reporter, Tips \u0026amp; Tricks\r#\rThe GIS Enterprise Reporter user interface is intended to have few options in the hopes that it is relatively straight-forward to execute.\nIn principle, you give it a Portal for ArcGIS \u0026ldquo;Target\u0026rdquo;, with an administrative credential for that Portal, tick some checkboxes, click \u0026ldquo;Execute\u0026rdquo;, and wait for it to complete.\nThere are some things that benefit from explanation. This article will offer information on the following topics:\nWhere should I run this application? How should I run this application? What value should I put in the \u0026ldquo;Target\u0026rdquo;? What are some common problems (and solutions)? What do the options (checkboxes) mean? Where Should This Application Be Run?\r#\rGIS Enterprise Reporter can, in principle, be run from anywhere that it can communicate to your Portal for ArcGIS.\nHowever, there are better and worse locations. The application works by asking Portal about itself and its federated ArcGIS Servers. This means that Reporter wants to communicate with the federated Servers in the same way that Portal does. Various aspects of your configuration and network rules may mean that communicating from your personal computer with Server cannot happen through the same means as Portal.\nHow would you know? Not easily. So, how could you protect yourself against this possibility? The easiest way to do that is to run the application from within your server network. For example, you could run it on the machine on which Portal runs.\nHow Should this Application Be Run?\r#\rIt is not necessary to run Reporter as a local machine administrator. However, doing so will usually allow it to gather more information for you. And, it may help you to overcome some potential execution challenges.\nIf you wish to run the application as a local machine administrator (assuming you are a member of that local machine Administrators group), right click on the enterprise_reporter.exe executable and select \u0026ldquo;Run as administrator\u0026rdquo; from the context menu.\nYou may or may not receive a message from your operating system or security software that discourages you from running this application.\nThis application is digitally signed by Esri with a chain of authority from a public Certificate Authority. So, it is unlikely that the message will mention certificate trust. But, if it does, you may wish to explore importing the trust chain into your trusted repository. To initiate the \u0026ldquo;installation\u0026rdquo; workflow for the certificate, follow the steps show in the screen capture below :\nSelecting \u0026ldquo;Current User\u0026rdquo; and \u0026ldquo;Automatically select the certificate store based on the type of certificate\u0026rdquo; are the appropriate options on the \u0026ldquo;Install Certificate\u0026rdquo; wizard panels. This may relieve you of the warning.\nOr, if you are a machine administrator, you may have options to execute the application. To do so, you may have to click buttons that say things like \u0026ldquo;More Options\u0026rdquo;, \u0026ldquo;Run Anyway\u0026rdquo;, etc. \u0026hellip; depending on what is issuing the warning and your rights. For example:\nThese technical methods are not offered to circumvent the guidance of your organization with respect to third party executables. Please use the privileges granted to you by your organization responsibly.\nThe Reporter application only runs on Windows. However, you can use it to report on an ArcGIS Enterprise on Windows or Linux. In the event that your Enterprise is on Linux, running Reporter as a local machine administrator does not produce any additional output information in the report documents. The only reason to run Reporter as local machine administrator in that case is to give you more options in response to an unsigned application warning if you receive one.\nWhat Is the Right Value for \u0026ldquo;Target\u0026rdquo;?\r#\rThere are three basic options:\nThe FQDN (\u0026lsquo;portalmachine.domain.com\u0026rsquo;) of the machine The 7443 endpoint for Portal (\u0026lsquo;\rhttps://portalmachine.domain.com:7443/') The WebContextUrl for Portal (\u0026lsquo;\rhttps://proxy.domain.com/portalcontext') The first two options amount to the same thing. If you enter the FQDN of your Portal machine (either machine in the case of a two-machine \u0026ldquo;high-availability\u0026rdquo; Portal), Reporter will fix-it up into option #2 for you. In addition to being relatively straight-forwards, this is usually the best option for \u0026ldquo;Target\u0026rdquo; value as well. So, it is recommended that you use the FQDN (fully-qualified domain name) of a Portal machine (the machine\u0026rsquo;s \u0026ldquo;A RECORD\u0026rdquo;).\nOf course, this implies that your network will allow you to get to Portal\u0026rsquo;s 7443 port from where you are running Reporter. This is why the first tip encourages you to run Reporter on your server network because it is on that network that this network pathway will be allowed.\nThe third option is to provide the WebContextUrl (or Web Adaptor-style address) as the target. This generally works. However, Reporter only knows about \u0026ldquo;Portal tier authentication\u0026rdquo;. So, if this pathway (WebContextUrl) involves \u0026ldquo;web tier authentication\u0026rdquo; or requires SAML, OIDC, etc., Reporter will not be able to authenticate.\nAs you might be able to infer, the values for \u0026ldquo;Admin user\u0026rdquo; and \u0026ldquo;password\u0026rdquo; must be a user that has administrative rights on your Portal and is authenticated at the Portal tier. This certainly includes Portal\u0026rsquo;s \u0026ldquo;Initial Administrator Account\u0026rdquo;. But, you can also use any other account that is a Portal administrator and can get a token directly from Portal\u0026rsquo;s 7443 REST endpoints.\nCommon Problems and Solutions\r#\rThe application comes with a Microsoft Word document which includes a section on Troubleshooting. If you are having a problem, you should consult that first.\nThe most common problems are usually having to do with access to the token REST endpoint. Those problems are best avoided by running the application from the server network and using the machine FQDN as the target address. The message in the application will look like this:\nException while acquiring token. Please use a browser to check the url: https://\u0026lt;f.q.d.n\u0026gt;:7443/arcgis/sharing/rest/generateToken and credentials.\nAs you can see, it asks you to validate that the URL target to get a token is reachable from the machine on which you are running Reporter. If you can get to that endpoint, then try generating a token. If you can do both of those things, Reporter will run.\nWhat Are the Checkbox Options?\r#\rAt a high-level, the checkboxes have the following implications:\nAdmin + Services Inventory: This touches all of the REST endpoints in the Admin APIs for your Portal and your federated Servers. It records all of the configuration information of your Enterprise, lists all of its services and their properties, etc. The information is quite broad and deep. This makes it very valuable. But, it can be challenge to get a high-level picture. The specific contents of this file output will be explored in future articles.\nDiagram: The diagram provides a high-level picture of the logical structure of your Enterprise. This is an example from a very simple (development environment) system:\nCertificate Analysis: Reporter does its best to connect to each of the HTTPS endpoints in your Enterprise (i.e. Reverse proxies, Web Adaptors, Portal\u0026rsquo;s on 7443, Server\u0026rsquo;s on 6443, etc.), discovering the certificates and reporting on various facts like certificate subjects, expirations, and trust chains. There are several sheets in the Excel, each sheet corresponding to a different HTTPS access pathway. For example:\nPortal Content Inventory: This output is created by stepping through Portal\u0026rsquo;s Sharing API. It lists all of the content in the Portal, along with its \u0026ldquo;metadata\u0026rdquo; (content type, owner, etc.). And, it can provide lists of users, groups, etc. This output will also be explored in more detail in future articles.\nMigrator Artifacts (advanced): This is, as the name implies, an advanced option. Most users will never need this. This option does two things. The first is that it writes out the json from the REST endpoints into a subdirectory. So, if you are someone that likes working with json, you can find it all there. Second, when it finds sufficient information in Portal to export out \u0026ldquo;service definitions\u0026rdquo;, it will do so. This can be helpful if you wish to re-publish services. If you published your service through ArcGIS Pro, it was very likely to story the service definitions there such that Reporter can access them.\nConclusion\r#\rHopefully, this article has provided a useful orientation to how to run the GIS Enterprise Reporter tool. As mentioned, it comes with a Microsoft Word document that provides additional information. Should you run into challenges or have questions that are not clearly addressed, please be in touch through the contact information in that document. You may post comments questions here also, if you wish.\nPrior Series Article: Introducing the GIS Enterprise Reporter\nNext Series Article: GIS Enterprise Reporter: Making the Most of Services Outputs\n"},{"id":1,"href":"/Notes/GIS-Enterprise-Reporter/docs/03/","title":"Making the Most of Services Outputs","section":"Docs","content":"\rMaking the Most of Services Outputs\r#\rIntroduction\r#\rGIS Enterprise Reporter provides a lot of information about the content and configuration of an ArcGIS Enterprise. Among the outputs available is an \u0026ldquo;admin\u0026rdquo; Excel workbook. That workbook\u0026rsquo;s sheets contain information available from the Admin API\u0026rsquo;s of each server role in the ArcGIS Enterprise (Portal and all of the federated ArcGIS Server Sites). For each federated ArcGIS Server Site, there are several sheets that describe aspects of the services inventory.\nThis is the third article in the GIS Enterprise Reporter series. If you are not familiar with the series, this is the first article: Introducing the GIS Enterprise Reporter.\nGenerating the \u0026ldquo;Admin\u0026rdquo; Excel\r#\rThe default execution parameters of GIS Enterprise Reporter will generate the \u0026ldquo;Admin\u0026rdquo; Excel output. The \u0026ldquo;Admin + Services Inventory\u0026rdquo; checkbox creates and populates the workbook from the Admin API. The \u0026ldquo;With Analytics\u0026rdquo; checkbox will calculate a variety of aggregate statistics and other information of interest from the raw outputs, placing them in additional sheets in the same Excel workbook.\nThe workbook will be placed in the output directory and will bear a name indicating the name of the ArcGIS Enterprise followed by \u0026ldquo;admin\u0026rdquo; and a timestamp as shown here:\nUnderstanding the Services Content\r#\rWithin the Admin Excel workbook, each federated ArcGIS Server site will have a series of tabs that begins with a number, the name of the site, and a suffix.\nFinding the Basics\r#\rAn example of the main sheets for a federated Site appears below:\nEach federated Site is given a number by GIS Enterprise Reporter. In this example, we are looking at site number \u0026ldquo;1\u0026rdquo;. And, the site name is dannyk_esri_com (the DNS name by which the Site is known).\nThe suffixes have the following meanings:\n* `serveradm`: Information extracted from the Admin API about how the Site is configured.\r* `serverdat`: If the site is a Hosting Server Site, this sheet will provide a little bit of additional information about the Data Store.\r* `serversvc`: An exhaustive list of all of the properties of all of the services in the ArcGIS Server Site. If you need to know any particular fact about a service that ArcGIS Server knows, it can be found here.\r* `serversvn`: A \u0026quot;normalized\u0026quot; listing of the most commonly used properties of the services in the ArcGIS Server Site. The sheet is more useful to understand the services inventory over-all.\rThe \u0026ldquo;Normalized\u0026rdquo; Services Listing\r#\rThe \u0026ldquo;normalized\u0026rdquo; services listing is a good place to start. Each line is a service and some essential pieces of information about it.\nThe first row has filters that can be used to focus on information of particular interest.\nThe Detail in \u0026ldquo;serversvc\u0026rdquo;\r#\rThe \u0026ldquo;serversvc\u0026rdquo; sheet has one line per service property. This makes it less convenient for understanding the big picture. But, if you want to know the recycleStartTime, the portalProperties, or the referenced datasets, they are available here.\nExploring the Analytics\r#\rIf you selected \u0026ldquo;With Analytics\u0026rdquo; there will be two additional sheets for each federated ArcGIS Server Site. Their names include only the site number assigned by GIS Enterprise Reporter and a suffix indicating their content.\nsvc_datasets\r#\rThe svc_datasets sheet is a listing of all of the datasets referenced by the dedicated instance services in the Site (Hosted Services and Shared Instance services do not include this information in the ArcGIS Server Admin API). As with the other sheets, it is filterable if you wish to focus on particular services or datasets.\nThe dataset information is formatted as it is in ArcGIS Server: datasetname followed by the workspace from where it comes.\nsvc_analytics\r#\r\u0026ldquo;svc_analytics\u0026rdquo; contains a variety of calculated statistics about the services (and the service instances) in the Site.\nThe first few statistics are about the services over-all. However, most of the statistics are focused on only those services that are running.\nThe \u0026ldquo;Total Minimum Instances Per Node (started)\u0026rdquo; is of interest because this is the number of instances that exist as soon as ArcGIS Server starts. The \u0026ldquo;maximum\u0026rdquo; statistic is the upper limit. However, it is almost never the case that all services have their maximum instantiation at the same time.\nStatistics are presented by \u0026ldquo;provider\u0026rdquo; (indicating something about how the service was published and how it runs) and \u0026ldquo;type\u0026rdquo; (indicating something about what it can do). As noted, these statistics focus on the services that are running, and their min/max instancing.\nConclusion\r#\rHopefully, these Excel worksheets provide information that help you better understand and manage the services in your ArcGIS Enterprise. If you have ideas for improved information, please share it with me: Danny Krouk (\rdkrouk@esri.com).\nThe next article in this series explores how to compare GIS Enterprise Reporter outputs to gain insight into meaningful differences between systems: Comparing ArcGIS Enterprise Systems.\n"}]